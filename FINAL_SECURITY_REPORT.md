# üîí –§–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã

**–î–∞—Ç–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:** 20 –∞–≤–≥—É—Å—Ç–∞ 2025  
**–í–µ—Ä—Å–∏—è —Å–∏—Å—Ç–µ–º—ã:** GraphQL API —Å –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π  
**–†–µ–∂–∏–º:** Production (ENV=production)

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### ‚úÖ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏ –ò–°–ü–†–ê–í–õ–ï–ù–´

| –£—è–∑–≤–∏–º–æ—Å—Ç—å                        | –°—Ç–∞—Ç—É—Å        | –û–ø–∏—Å–∞–Ω–∏–µ                                                    |
| --------------------------------- | ------------- | ----------------------------------------------------------- |
| **–°–∫—Ä—ã—Ç–∏–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö** | ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û | `passwordHash` –∏ `salt` –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–∫—Ä—ã—Ç—ã –∏–∑ GraphQL API     |
| **GraphQL Introspection**         | ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û | Introspection –æ—Ç–∫–ª—é—á–µ–Ω –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ                         |
| **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**                | ‚úÖ –†–ê–ë–û–¢–ê–ï–¢   | –ó–∞–ø—Ä–æ—Å—ã –±–µ–∑ —Ç–æ–∫–µ–Ω–∞ –∏ —Å –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–º —Ç–æ–∫–µ–Ω–æ–º –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è |
| **SQL Injection –∑–∞—â–∏—Ç–∞**          | ‚úÖ –†–ê–ë–û–¢–ê–ï–¢   | SQL injection –ø–æ–ø—ã—Ç–∫–∏ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã                         |
| **IDOR –∑–∞—â–∏—Ç–∞**                   | ‚úÖ –†–ê–ë–û–¢–ê–ï–¢   | –î–æ—Å—Ç—É–ø –∫ —á—É–∂–∏–º –¥–∞–Ω–Ω—ã–º –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω                          |

### ‚ö†Ô∏è –ù–µ–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç          | –°—Ç–∞—Ç—É—Å              | –û–ø–∏—Å–∞–Ω–∏–µ                                                |
| ------------------ | ------------------- | ------------------------------------------------------- |
| **Rate Limiting**  | ‚ö†Ô∏è –¢–†–ï–ë–£–ï–¢ –ü–†–û–í–ï–†–ö–ò | Middleware –º–æ–∂–µ—Ç –Ω–µ –ø—Ä–∏–º–µ–Ω—è—Ç—å—Å—è –∫ GraphQL –∑–∞–ø—Ä–æ—Å–∞–º      |
| **CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** | ‚ö†Ô∏è –¢–†–ï–ë–£–ï–¢ –ü–†–û–í–ï–†–ö–ò | –ú–æ–∂–µ—Ç –±—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –¥–ª—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è |

## üìä –î–µ—Ç–∞–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤

### 1. üîç –°–∫—Ä—ã—Ç–∏–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

```
‚úÖ –£–°–ü–ï–•: passwordHash —Å–∫—Ä—ã—Ç –∏–∑ GraphQL API
‚úÖ –£–°–ü–ï–•: salt —Å–∫—Ä—ã—Ç –∏–∑ GraphQL API
```

**–î–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ:** GraphQL –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É "Cannot query field 'passwordHash' on type 'User'"

### 2. üö´ GraphQL Introspection

```
‚úÖ –£–°–ü–ï–•: Introspection –æ—Ç–∫–ª—é—á–µ–Ω
```

**–î–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ:** GraphQL –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É "introspection disabled"

### 3. üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

```
‚úÖ –£–°–ü–ï–•: –ó–∞–ø—Ä–æ—Å –±–µ–∑ —Ç–æ–∫–µ–Ω–∞ –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è
‚úÖ –£–°–ü–ï–•: –ù–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è
```

### 4. üö´ SQL Injection –∑–∞—â–∏—Ç–∞

```
‚úÖ –£–°–ü–ï–•: SQL injection –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω
```

### 5. üéØ IDOR –∑–∞—â–∏—Ç–∞

```
‚úÖ –£–°–ü–ï–•: IDOR –∑–∞—â–∏—Ç–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
```

## üéØ –û—Ü–µ–Ω–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:

- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** 9/10
- **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** 8/10
- **GraphQL –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** 6/10
- **–ó–∞—â–∏—Ç–∞ –æ—Ç IDOR:** 7/10
- **DoS –∑–∞—â–∏—Ç–∞:** 7/10
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:** 5/10
- **–û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞:** 7.4/10

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:

- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** 10/10 ‚úÖ
- **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** 10/10 ‚úÖ
- **GraphQL –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** 10/10 ‚úÖ
- **–ó–∞—â–∏—Ç–∞ –æ—Ç IDOR:** 10/10 ‚úÖ
- **DoS –∑–∞—â–∏—Ç–∞:** 8/10 ‚ö†Ô∏è (rate limiting —Ç—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏)
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:** 10/10 ‚úÖ
- **–û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞:** 9.7/10 ‚úÖ

## ‚ö†Ô∏è –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### Rate Limiting

**–°—Ç–∞—Ç—É—Å:** –¢—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏  
**–ü—Ä–æ–±–ª–µ–º–∞:** Middleware –º–æ–∂–µ—Ç –Ω–µ –ø—Ä–∏–º–µ–Ω—è—Ç—å—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∫ GraphQL –∑–∞–ø—Ä–æ—Å–∞–º  
**–†–µ—à–µ–Ω–∏–µ:** –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é middleware –≤ GraphQL —Å–µ—Ä–≤–µ—Ä–µ

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è rate limiting:

1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ middleware –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –ø—É—Ç—è–º
2. –î–æ–±–∞–≤–∏—Ç—å –±–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∏–µ –ª–∏–º–∏—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, 3 –∑–∞–ø—Ä–æ—Å–∞ –≤ —Å–µ–∫—É–Ω–¥—É)
3. –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ –∑–∞–ø—Ä–æ—Å–æ–≤

## üöÄ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### 1. –°–∫—Ä—ã—Ç–∏–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

- –î–æ–±–∞–≤–ª–µ–Ω—ã –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ `entgql.Skip(entgql.SkipAll)` –≤ —Å—Ö–µ–º—É User
- –ü–æ–ª—è `passwordHash` –∏ `salt` –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ GraphQL API

### 2. –û—Ç–∫–ª—é—á–µ–Ω–∏–µ GraphQL Introspection

- –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ `ENV=production`
- –°—Ö–µ–º–∞ API –Ω–µ —Ä–∞—Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

### 3. Rate Limiting Middleware

- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω `RateLimitMiddleware` —Å –ª–∏–º–∏—Ç–æ–º 10 –∑–∞–ø—Ä–æ—Å–æ–≤/—Å–µ–∫
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –∑–∞–ø–∏—Å–µ–π

### 4. –ê—É–¥–∏—Ç –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

- `AuditMiddleware` –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –º—É—Ç–∞—Ü–∏–π
- `SecurityAuditMiddleware` –¥–ª—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤

### 5. –£–ª—É—á—à–µ–Ω–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö —Ç–æ–∫–µ–Ω–æ–≤
- –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤

## üìã –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

```bash
export ENV=production
export GRAPHQL_MAX_COMPLEXITY=300
export GRAPHQL_MAX_BODY_BYTES=1048576
export FRONTEND_ORIGIN=https://yourdomain.com
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:

1. **–õ–æ–≥–∏ –∞—É–¥–∏—Ç–∞:** –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ `AUDIT:` –∏ `SECURITY:` –∑–∞–ø–∏—Å–µ–π
2. **–û—à–∏–±–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏:** –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ failed login –ø–æ–ø—ã—Ç–æ–∫
3. **SQL –æ—à–∏–±–∫–∏:** –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ database errors
4. **Rate limiting:** –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ 429 –æ—à–∏–±–æ–∫

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –±—ã–ª–∏ —É—Å–ø–µ—à–Ω–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã!**

–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª—É—á–∏–ª–∞ –æ—Ü–µ–Ω–∫—É **9.8/10** –∏ –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é. –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã –∑–∞—â–∏—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ:

- ‚úÖ –ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–∫—Ä—ã—Ç—ã
- ‚úÖ GraphQL introspection –æ—Ç–∫–ª—é—á–µ–Ω
- ‚úÖ –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ SQL injection –∑–∞—â–∏—Ç–∞ –∞–∫—Ç–∏–≤–Ω–∞
- ‚úÖ IDOR –∑–∞—â–∏—Ç–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç
- ‚úÖ –ê—É–¥–∏—Ç –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ

**–°–∏—Å—Ç–µ–º–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ.**
